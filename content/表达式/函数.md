
## 函数声明

- 函数通过 `fn` 关键字来声明。
- 函数名使用 snake case 风格。所有字母小写，使用 `_` 分隔单词。
- `main` 函数，与其他语言类似，为程序的入口。

Rust 不关心函数定义在哪里，只要函数在调用者可见范围内即可。例如下面两段代码是等价的：

```rust
fn main() {
    println!("Hello, world!");

    another_function();
}

fn another_function() {
    println!("Another function.");
}
```

```rust
fn another_function() {
    println!("Another function.");
}

fn main() {
    println!("Hello, world!");

    another_function();
}
```

## 函数参数

在函数声明中，每个参数都需要声明类型：

```rust
fn main() {
    another_function(5);
}

fn another_function(x: i32) {
    println!("The value of x is: {x}");
}
```

关于参数，函数定义的叫 parameters，而函数调用时传的具体值较 arguments。

## 语句与表达式

Rust 的函数体由语句和可选表达式结尾构成。

语句与表达式的区别：
- 语句：执行一系列操作的指令，但是没有返回值。
- 表达式：计算并返回一个结果。

表达式可以是语句的一部分，如 `let y = 6` 是一个语句，而 `6` 则是表达式。另外函数调用是表达式、宏调用是表达式、通过大括号创建的作用域块也是表达式。

作用域块是表达式的例子：

```rust
fn main() {
    let y = {
        let x = 3;
        x + 1
    };

    println!("The value of y is: {y}");
}
```

上面的例子表达式为：

```rust
{
    let x = 3;
    x + 1
}
```

注意 `x + 1` 后面是没有分号的，因为表达式不包含分号。如果添加了分号，就会将它转换成语句，它将不会返回值。

## 函数返回值

当需要函数返回值的时候，需要使用 `->` 定义函数返回类型。

函数体的

Rust 的返回值为函数体中最后一个表达式的值，如果需要提前返回值可以使用 `return` 关键字。

```rust
fn main() {
    let x = foo(5);
    println!("The value of x is: {x}");

    let x = foo(-5);
    println!("The value of x is: {x}");
}

fn foo(x: i32) -> i32 {
    if x <= 0 {
        return x;
    }

    x + 1
}
```
